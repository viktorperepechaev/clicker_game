body {
  font-family: 'Merriweather', serif;
  margin: 0;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: #3A3A2C; /* Swampy Dark Green-Brown */
  color: #A9B78D; /* Pale Sickly Yellow-Green */
  line-height: 1.7;
}

h1, h2, h3, h4, h5, h6 {
  font-family: 'Creepster', cursive;
  color: #33443F; /* Murky Dark Teal */
  letter-spacing: 1.5px;
  text-shadow: 0 0 5px rgba(51, 68, 63, 0.5); /* Shadow for Murky Dark Teal */
}

p {
    margin-bottom: 1em;
}

header {
  background-color: #2A2A1E; /* Very Dark Swampy Green */
  color: #A9B78D; /* Pale Sickly Yellow-Green */
  padding: 1.5em 1em;
  text-align: center;
  border-bottom: 3px solid #4A3B31; /* Dark Muddy Brown */
  box-shadow: 0 2px 10px rgba(0,0,0,0.5);
}

header h1 {
  margin: 0 0 10px 0;
  font-size: 2.8em;
  color: #7F8C5A; /* Brighter Sickly Green */
  text-shadow: 0 0 10px #4A3B31, 0 0 20px #4A3B31; /* Muddy Brown Shadow */
}

nav#menu button {
  background-color: #4A3B31; /* Dark Muddy Brown */
  color: #A9B78D; /* Pale Sickly Yellow-Green */
  border: 1px solid #3A2B21; /* Darker Muddy Brown */
  padding: 10px 18px;
  margin: 0 8px;
  cursor: pointer;
  border-radius: 3px;
  font-family: 'IM Fell English SC', serif;
  font-size: 1.1em;
  transition: background-color 0.3s, color 0.3s, box-shadow 0.3s, transform 0.2s;
  text-transform: uppercase;
  letter-spacing: 1px;
}

nav#menu button:hover {
  background-color: #5A4B41; /* Lighter Muddy Brown */
  color: #E0E0D0; /* Brighter Text */
  box-shadow: 0 0 10px rgba(42, 42, 30, 0.5), 0 0 5px rgba(60, 70, 50, 0.3) inset;
  transform: translateY(-2px);
}

main#workspace {
  flex-grow: 1;
  padding: 25px;
  max-width: 900px;
  margin: 25px auto;
  background-color: #404038; /* Slightly Lighter Swamp Green/Gray */
  box-shadow: 0 0 20px rgba(42, 42, 30, 0.4), 0 0 5px rgba(0,0,0,0.7) inset; /* Swampy glow + inner shadow */
  border-radius: 0px;
  border: 1px solid #3A2B21; /* Darker Muddy Brown */
}

main#workspace section {
  display: block;
  padding: 25px;
  margin-bottom: 35px;
  border-bottom: 1px dashed #2A2A1E; /* Very Dark Swampy Green for separator */
  background-color: rgba(0,0,0,0.1);
}
main#workspace section:last-child {
  border-bottom: none;
  margin-bottom: 0;
}

main#workspace section h2 {
    font-size: 2.2em;
    margin-top: 0;
    margin-bottom: 0.7em;
    border-bottom: 1px solid #2F4F3F; /* Darker shade of heading teal */
    padding-bottom: 0.3em;
}

footer {
  background-color: #2A2A1E; /* Very Dark Swampy Green */
  color: #889070; /* Slightly darker/muted version of text color for footer */
  text-align: center;
  padding: 1.5em 1em;
  margin-top: auto;
  border-top: 2px solid #4A3B31; /* Dark Muddy Brown */
  font-family: 'IM Fell English SC', serif;
  font-size: 0.9em;
}

/* Стили для игры */
#game-area {
  text-align: center;
  padding: 20px;
  background-color: rgba(42, 42, 30, 0.2); /* Semi-transparent dark swampy green/brown */
  border: 1px solid #3A2B21; /* Darker Muddy Brown */
  border-radius: 4px;
}
#game-area p {
    font-family: 'IM Fell English SC', serif;
    font-size: 1.2em;
    color: #A9B78D; /* Pale Sickly Yellow-Green */
}
#game-area p span {
    color: #D0D8BF; /* Brighter Sickly Yellow-Green */
    font-weight: bold;
}


#start-game-button {
  padding: 15px 30px;
  background-color: #556B2F; /* Dark Olive Green */
  color: #D0D8BF; /* Brighter Sickly Yellow-Green */
  border: 1px solid #4A5B1F; /* Darker Olive Green */
  border-radius: 3px;
  cursor: pointer;
  font-family: 'IM Fell English SC', serif;
  font-size: 1.3em;
  text-transform: uppercase;
  letter-spacing: 1px;
  transition: background-color 0.3s, box-shadow 0.3s, transform 0.2s;
  margin-top: 10px;
}
#start-game-button:hover {
  background-color: #6B8E23; /* Lighter Olive Drab */
  color: #E0E8CF;
  box-shadow: 0 0 10px #4A5B1F, 0 0 5px #556B2F inset;
  transform: translateY(-2px);
}


#clickable-zone {
  width: 200px;
  height: 200px;
  background: radial-gradient(ellipse at center, #7F8C5A 0%, #556B2F 70%, #3A3A2C 100%); /* Sickly green to olive to swamp */
  color: #E0E8CF; /* Contrasting text for orb */
  margin: 25px auto;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: crosshair;
  border-radius: 50%;
  font-size: 1.6em;
  font-family: 'Creepster', cursive;
  user-select: none;
  border: 3px solid #6B8E23; /* Olive Drab border */
  box-shadow: 0 0 15px #556B2F, 0 0 30px #4A5B1F, inset 0 0 10px #3A2B21; /* Olive/Brown shadows */
  transition: transform 0.05s ease-out, box-shadow 0.1s linear;
  text-shadow: 0 0 5px #A9B78D, 0 0 10px #E0E8CF;
  animation: pulse 2s infinite ease-in-out;
}

@keyframes pulse {
  0% { box-shadow: 0 0 15px #556B2F, 0 0 30px #4A5B1F, inset 0 0 10px #3A2B21; transform: scale(1); }
  50% { box-shadow: 0 0 25px #7F8C5A, 0 0 40px #556B2F, inset 0 0 15px #4A3B31; transform: scale(1.05); }
  100% { box-shadow: 0 0 15px #556B2F, 0 0 30px #4A5B1F, inset 0 0 10px #3A2B21; transform: scale(1); }
}

#clickable-zone.hidden {
  display: none;
}
#clickable-zone:active {
  transform: scale(0.92) !important;
  box-shadow: 0 0 25px #8F9C6A, 0 0 50px #6B8E23, inset 0 0 20px #556B2F !important; /* Intense sickly glow on click */
  transition-duration: 0.02s;
}

#game-over-dialog {
  margin-top: 25px;
  padding: 25px;
  border: 1px solid #4A3B31; /* Dark Muddy Brown */
  border-radius: 0px;
  background-color: #2A2A1E; /* Very Dark Swampy Green */
  box-shadow: 0 0 15px rgba(0,0,0,0.6);
}
#game-over-dialog.hidden {
  display: none;
}
#game-over-dialog h3 {
    margin-top: 0;
    font-size: 1.8em;
    color: #7F8C5A; /* Brighter Sickly Green */
}
#game-over-dialog label {
    font-family: 'IM Fell English SC', serif;
    display: block;
    margin-bottom: 5px;
    color: #A9B78D; /* Pale Sickly Yellow-Green */
}
#game-over-dialog input[type="text"] {
  padding: 12px;
  margin: 5px 0 15px;
  border: 1px solid #4A3B31; /* Dark Muddy Brown */
  border-radius: 2px;
  background-color: #303028; /* Darker swampy tone */
  color: #D0D8BF; /* Brighter Sickly Yellow-Green */
  width: calc(100% - 26px);
  font-family: 'Merriweather', serif;
  font-size: 1em;
}
#game-over-dialog input[type="text"]::placeholder {
    color: #6A705A; /* Muted Sickly Green */
    font-style: italic;
}
#game-over-dialog button {
  padding: 12px 25px;
  background-color: #556B2F; /* Dark Olive Green */
  color: #D0D8BF; /* Brighter Sickly Yellow-Green */
  border: 1px solid #4A5B1F; /* Darker Olive Green */
  border-radius: 2px;
  cursor: pointer;
  font-family: 'IM Fell English SC', serif;
  font-size: 1.1em;
  transition: background-color 0.3s, box-shadow 0.3s;
  text-transform: uppercase;
}
#game-over-dialog button:hover {
  background-color: #6B8E23; /* Lighter Olive Drab */
  box-shadow: 0 0 8px #4A5B1F, 0 0 4px #556B2F inset;
}


/* Стили для таблицы рекордов */
#results-section div {
  margin-bottom: 20px;
  font-family: 'IM Fell English SC', serif;
}
#results-section div label {
  color: #A9B78D; /* Pale Sickly Yellow-Green */
  margin-right: 8px;
}
#rows-count {
  background-color: #303028; /* Darker swampy tone */
  color: #D0D8BF; /* Brighter Sickly Yellow-Green */
  border: 1px solid #4A3B31; /* Dark Muddy Brown */
  padding: 8px;
  border-radius: 2px;
  font-family: 'IM Fell English SC', serif;
}

#highscore-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
  border: 1px solid #4A3B31; /* Dark Muddy Brown */
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
}

#highscore-table th, #highscore-table td {
  padding: 10px 12px;
  text-align: left;
  border-bottom: 1px solid #3A2B21; /* Darker Muddy Brown */
}

#highscore-table th {
  background-color: #404038; /* Slightly Lighter Swamp Green/Gray (like workspace) */
  color: #D0D8BF; /* Brighter Sickly Yellow-Green */
  font-family: 'Creepster', cursive;
  letter-spacing: 1px;
  cursor: pointer;
  border-right: 1px solid #3A2B21;
}
#highscore-table th:last-child {
    border-right: none;
}

#highscore-table th:hover {
  background-color: #4F4F40; /* Slightly lighter for hover */
}

#highscore-table tbody tr {
  transition: background-color 0.2s;
}
#highscore-table tbody tr:nth-child(odd) {
  background-color: rgba(42, 42, 30, 0.1); /* Very subtle dark swampy tone */
}
#highscore-table tbody tr:hover {
  background-color: rgba(85, 107, 47, 0.2); /* Dark Olive Green, transparent */
}

#highscore-table td {
  color: #A9B78D; /* Pale Sickly Yellow-Green */
}
#highscore-table tbody tr:hover td {
  color: #D0D8BF; /* Brighter on hover */
}

#loading-message {
  text-align: center;
  font-style: italic;
  color: #777;
  padding: 20px;
  font-family: 'IM Fell English SC', serif;
  font-size: 1.2em;
}

/* Styles for Space Invaders Game Elements */
.grid {
	width: 300px; /* Fixed width for the game grid */
	height: 300px; /* Fixed height for the game grid */
	border: 1px solid #4A3B31; /* Dark Muddy Brown border, fitting the theme */
	display: flex;
	flex-wrap: wrap;
    margin: 20px auto; /* Center the grid */
    background-color: rgba(26, 26, 22, 0.5); /* Very dark, slightly transparent swampy background for grid */
}

.grid div {
	width: 20px;
	height: 20px;
    /* Potentially add a very subtle border or background to see empty squares if needed for debugging */
    /* box-sizing: border-box; border: 1px dotted rgba(169, 183, 141, 0.1); */
}

.invader {
	background-color: #7F8C5A; /* Sickly Green for invaders */
	border-radius: 10px; /* Keep border-radius from original or remove for blockier look */
    /* Or use a character with font styling */
    /* content: "Ψ"; font-family: 'Creepster', cursive; color: #7F8C5A; font-size: 20px; text-align: center; */
}

.shooter {
	background-color: #A9B78D; /* Pale Sickly Yellow-Green for shooter (player) */
    /* Could use a character too, e.g. ▲ */
}

.laser {
	background-color: #ffcc66; /* A brighter, somewhat ethereal orange/yellow for laser */
    box-shadow: 0 0 3px #ffcc66, 0 0 5px #ffcc66;
}

.boom {
	background-color: #b33a3a; /* A dark, bloody red for explosion */
    border-radius: 10px;
    box-shadow: 0 0 10px #b33a3a, 0 0 15px red;
}

/* Ensure results display fits theme */
#game-section .results {
    color: #E0E0D0; /* Brighter text for score */
    font-family: 'Creepster', cursive;
    text-align: center;
    font-size: 2em;
    margin-bottom: 15px;
    text-shadow: 0 0 8px #33443F;
}

#game-timer {
    color: #A9B78D; /* Pale Sickly Yellow-Green, consistent with other text */
    font-family: 'IM Fell English SC', serif;
    text-align: center;
    font-size: 1.1em;
    margin-bottom: 10px; /* Space before the grid */
}

/* Styles for Reload Bar */
.reload-bar-container {
    width: 300px; /* Match grid width */
    height: 20px;
    background-color: #2A2A1E; /* Very Dark Swampy Green (like header/footer bg) */
    border: 1px solid #4A3B31; /* Dark Muddy Brown border */
    margin: 10px auto; /* Spacing below grid */
    border-radius: 3px;
    overflow: hidden; /* To contain the progress bar */
}

#reload-bar-progress {
    width: 100%; /* Start full (ready) */
    height: 100%;
    background-color: #7F8C5A; /* Brighter Sickly Green (ready state) */
    transition: width 0.1s linear; /* Smooth transition for reload */
    /* For a segmented look, you could use a repeating gradient, but solid is simpler for now */
}

/* Utility class to hide elements */
.hidden {
    display: none !important;
}

/* Style for the Start Invaders Button */
#start-invaders-button {
  padding: 15px 30px;
  background-color: #556B2F; /* Dark Olive Green (consistent with other buttons) */
  color: #D0D8BF; /* Brighter Sickly Yellow-Green */
  border: 1px solid #4A5B1F; /* Darker Olive Green */
  border-radius: 3px;
  cursor: pointer;
  font-family: 'IM Fell English SC', serif;
  font-size: 1.3em;
  text-transform: uppercase;
  letter-spacing: 1px;
  transition: background-color 0.3s, box-shadow 0.3s, transform 0.2s;
  margin: 20px auto; /* Centering and spacing */
  display: block; /* To allow margin auto to center */
}

#start-invaders-button:hover {
  background-color: #6B8E23; /* Lighter Olive Drab */
  color: #E0E8CF;
  box-shadow: 0 0 10px #4A5B1F, 0 0 5px #556B2F inset;
  transform: translateY(-2px);
}

/* Styles for Invaders Win Dialog (similar to old game-over-dialog) */
#invaders-win-dialog {
  margin-top: 25px;
  padding: 25px;
  border: 1px solid #4A3B31; /* Dark Muddy Brown */
  border-radius: 0px;
  background-color: #2A2A1E; /* Very Dark Swampy Green */
  box-shadow: 0 0 15px rgba(0,0,0,0.6);
  text-align: center; /* Center contents of dialog */
}

#invaders-win-dialog h3 {
    margin-top: 0;
    font-size: 1.8em;
    color: #7F8C5A; /* Brighter Sickly Green */
    font-family: 'Creepster', cursive; /* Ensure thematic font */
}

#invaders-win-dialog p {
    font-family: 'IM Fell English SC', serif;
    color: #A9B78D; /* Pale Sickly Yellow-Green */
    font-size: 1.1em;
    margin: 10px 0;
}

#invaders-win-dialog label {
    font-family: 'IM Fell English SC', serif;
    display: block;
    margin: 15px 0 5px;
    color: #A9B78D;
}

#invaders-win-dialog input[type="text"] {
  padding: 12px;
  margin: 5px auto 15px; /* Centering input field */
  border: 1px solid #4A3B31;
  border-radius: 2px;
  background-color: #303028;
  color: #D0D8BF;
  width: calc(80% - 26px); /* Adjust width as needed */
  max-width: 300px; /* Max width for larger screens */
  display: block; /* To allow margin auto to center */
  font-family: 'Merriweather', serif;
  font-size: 1em;
  text-align: center;
}

#invaders-win-dialog input[type="text"]::placeholder {
    color: #6A705A;
    font-style: italic;
}

#invaders-win-dialog button {
  padding: 12px 25px;
  background-color: #556B2F; /* Dark Olive Green */
  color: #D0D8BF;
  border: 1px solid #4A5B1F;
  border-radius: 2px;
  cursor: pointer;
  font-family: 'IM Fell English SC', serif;
  font-size: 1.1em;
  transition: background-color 0.3s, box-shadow 0.3s;
  text-transform: uppercase;
  margin-top: 10px;
}

#invaders-win-dialog button:hover {
  background-color: #6B8E23;
  box-shadow: 0 0 8px #4A5B1F, 0 0 4px #556B2F inset;
}

#play-again-from-win-button {
  /* Styles to match save button, or make slightly different if desired */
  padding: 12px 25px;
  background-color: #4A3B31; /* Dark Muddy Brown, distinct from save */
  color: #D0D8BF;
  border: 1px solid #3A2B21;
  border-radius: 2px;
  cursor: pointer;
  font-family: 'IM Fell English SC', serif;
  font-size: 1.1em;
  transition: background-color 0.3s, box-shadow 0.3s;
  text-transform: uppercase;
  margin-top: 10px;
  margin-left: 10px; /* Space it from the save button if they are inline */
}

#play-again-from-win-button:hover {
  background-color: #5A4B41; /* Lighter Muddy Brown */
  box-shadow: 0 0 8px #3A2B21, 0 0 4px #5A4B41 inset;
}